# Serve command configuration
#
# This is an example configuration file for the `polymarket serve` command.

# Server configuration
server:
  host: "127.0.0.1"
  port: 8080

# Data source client configurations
datasources:
  # Common HTTP client config (used as fallback)
  common:
    timeout_secs: 30
    max_retries: 3

  # Alternative.me specific config (overrides common)
  # alternativeme:
  #   timeout_secs: 60

# Ingestion configuration
ingestion:
  jobs_dir: "./configs/jobs"

# Storage configuration
storage:
  # Backend type: 'local' (SQLite + memory cache) or 'external' (future: Redis + TimescaleDB)
  backend: local
  # Cleanup interval in seconds (default: 3600 = 1 hour)
  cleanup_interval_secs: 3600
  # Global data retention period in days (default: 365 days = 1 year)
  # This is the maximum retention time used for cleanup
  retention_days: 365

  # Local storage settings (used when backend: local)
  local:
    # Path to SQLite database file
    db_path: "data/metrics.db"
    # Cache TTL in seconds (default: 900 = 15 minutes)
    cache_ttl_secs: 900
    # Maximum number of entries in cache (default: 10000)
    cache_max_capacity: 10000
